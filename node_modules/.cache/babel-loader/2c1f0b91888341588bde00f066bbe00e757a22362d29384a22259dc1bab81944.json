{"ast":null,"code":"var _jsxFileName = \"/Users/cynthia/Desktop/school assignments/third semester/6150 Web/weather-app/src/WeatherApp.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeatherApp = () => {\n  _s();\n  const [city, setCity] = useState(\"\");\n  const [weather, setWeather] = useState(null);\n  const [cityImage, setCityImage] = useState(\"\"); // 用于存储城市图片 URL\n  const [error, setError] = useState(\"\");\n  const fetchCityImage = async cityName => {\n    try {\n      const unsplashAccessKey = \"Nc2m5UVZm29FyFJIwTzoOwLRYcf38LSNSSgrLQLxdlo\"; // Unsplash Access Key\n      const response = await axios.get(`https://api.unsplash.com/search/photos`, {\n        params: {\n          query: cityName,\n          client_id: unsplashAccessKey,\n          per_page: 1\n        }\n      });\n      if (response.data.results.length > 0) {\n        setCityImage(response.data.results[0].urls.regular);\n      } else {\n        setCityImage(\"\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching city image:\", err);\n      setCityImage(\"\");\n    }\n  };\n  const fetchWeather = async () => {\n    try {\n      setError(\"\");\n      setWeather(null);\n      setCityImage(\"\");\n      const apiKey = \"79b5cdad33a13f8b96ec23e71c4b0930\";\n      const response = await axios.get(`https://api.openweathermap.org/data/2.5/weather`, {\n        params: {\n          q: city,\n          appid: apiKey,\n          units: \"metric\"\n        }\n      });\n      setWeather(response.data);\n      fetchCityImage(city); // 获取城市图片\n    } catch (err) {\n      console.error(\"Error fetching weather data:\", err);\n      setError(\"City not found. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: \"Arial, sans-serif\",\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Weather App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter city\",\n        value: city,\n        onChange: e => setCity(e.target.value),\n        style: {\n          padding: \"10px\",\n          marginRight: \"10px\",\n          border: \"1px solid #ccc\",\n          borderRadius: \"5px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchWeather,\n        style: {\n          padding: \"10px\",\n          backgroundColor: \"#007BFF\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          cursor: \"pointer\"\n        },\n        children: \"Get Weather\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this), weather && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\",\n        padding: \"10px\",\n        border: \"1px solid #ccc\",\n        borderRadius: \"5px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Weather in \", weather.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `https://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`,\n        alt: weather.weather[0].description,\n        style: {\n          width: \"100px\",\n          height: \"100px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Temperature:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), \" \", weather.main.temp, \"\\xB0C\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Humidity:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), \" \", weather.main.humidity, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), \" \", weather.weather[0].description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Wind Speed:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), \" \", weather.wind.speed, \" m/s\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this), cityImage && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: cityImage,\n        alt: `A view of ${city}`,\n        style: {\n          width: \"100%\",\n          height: \"auto\",\n          marginTop: \"20px\",\n          borderRadius: \"5px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(WeatherApp, \"OsnhSNOXWPP3H76fiAv2+dB4lak=\");\n_c = WeatherApp;\nexport default WeatherApp;\nvar _c;\n$RefreshReg$(_c, \"WeatherApp\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","WeatherApp","_s","city","setCity","weather","setWeather","cityImage","setCityImage","error","setError","fetchCityImage","cityName","unsplashAccessKey","response","get","params","query","client_id","per_page","data","results","length","urls","regular","err","console","fetchWeather","apiKey","q","appid","units","style","fontFamily","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","type","placeholder","value","onChange","e","target","marginRight","border","borderRadius","onClick","backgroundColor","color","cursor","marginTop","name","src","icon","alt","description","width","height","main","temp","humidity","wind","speed","_c","$RefreshReg$"],"sources":["/Users/cynthia/Desktop/school assignments/third semester/6150 Web/weather-app/src/WeatherApp.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst WeatherApp = () => {\n  const [city, setCity] = useState(\"\");\n  const [weather, setWeather] = useState(null);\n  const [cityImage, setCityImage] = useState(\"\"); // 用于存储城市图片 URL\n  const [error, setError] = useState(\"\");\n\n  const fetchCityImage = async (cityName) => {\n    try {\n      const unsplashAccessKey = \"Nc2m5UVZm29FyFJIwTzoOwLRYcf38LSNSSgrLQLxdlo\"; // Unsplash Access Key\n      const response = await axios.get(\n        `https://api.unsplash.com/search/photos`,\n        {\n          params: {\n            query: cityName,\n            client_id: unsplashAccessKey,\n            per_page: 1,\n          },\n        }\n      );\n      if (response.data.results.length > 0) {\n        setCityImage(response.data.results[0].urls.regular);\n      } else {\n        setCityImage(\"\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching city image:\", err);\n      setCityImage(\"\");\n    }\n  };\n\n  const fetchWeather = async () => {\n    try {\n      setError(\"\");\n      setWeather(null);\n      setCityImage(\"\");\n      const apiKey = \"79b5cdad33a13f8b96ec23e71c4b0930\";\n      const response = await axios.get(\n        `https://api.openweathermap.org/data/2.5/weather`,\n        {\n          params: {\n            q: city,\n            appid: apiKey,\n            units: \"metric\",\n          },\n        }\n      );\n      setWeather(response.data);\n      fetchCityImage(city); // 获取城市图片\n    } catch (err) {\n      console.error(\"Error fetching weather data:\", err);\n      setError(\"City not found. Please try again.\");\n    }\n  };\n\n  return (\n    <div style={{ fontFamily: \"Arial, sans-serif\", padding: \"20px\" }}>\n      <h1>Weather App</h1>\n      <div style={{ marginBottom: \"20px\" }}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter city\"\n          value={city}\n          onChange={(e) => setCity(e.target.value)}\n          style={{\n            padding: \"10px\",\n            marginRight: \"10px\",\n            border: \"1px solid #ccc\",\n            borderRadius: \"5px\",\n          }}\n        />\n        <button\n          onClick={fetchWeather}\n          style={{\n            padding: \"10px\",\n            backgroundColor: \"#007BFF\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"5px\",\n            cursor: \"pointer\",\n          }}\n        >\n          Get Weather\n        </button>\n      </div>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n      {weather && (\n        <div\n          style={{\n            marginTop: \"20px\",\n            padding: \"10px\",\n            border: \"1px solid #ccc\",\n            borderRadius: \"5px\",\n          }}\n        >\n          <h2>Weather in {weather.name}</h2>\n          <img\n            src={`https://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`}\n            alt={weather.weather[0].description}\n            style={{ width: \"100px\", height: \"100px\" }}\n          />\n          <p>\n            <strong>Temperature:</strong> {weather.main.temp}°C\n          </p>\n          <p>\n            <strong>Humidity:</strong> {weather.main.humidity}%\n          </p>\n          <p>\n            <strong>Description:</strong> {weather.weather[0].description}\n          </p>\n          <p>\n            <strong>Wind Speed:</strong> {weather.wind.speed} m/s\n          </p>\n        </div>\n      )}\n      {cityImage && (\n        <div>\n          <img\n            src={cityImage}\n            alt={`A view of ${city}`}\n            style={{\n              width: \"100%\",\n              height: \"auto\",\n              marginTop: \"20px\",\n              borderRadius: \"5px\",\n            }}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WeatherApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}